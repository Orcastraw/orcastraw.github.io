!function($){$.fn.imageScroller=function(e){return this.each(function(){function i(e,t){switch(t.direction){case"left":var s=-e.children(":eq(0)").width(),h=t.speed-Math.abs(parseInt(e.css("marginLeft")))*(t.speed/e.children(":eq(0)").width());break;case"right":var s=-(e.width()-e.parents("div:eq(0)").width())+e.children(":last").width(),h=t.speed-(e.children(":last").width()-(Math.abs(parseInt(e.css("marginLeft")))-Math.abs(s)))*(t.speed/e.children(":last").width());break;case"top":var a=-e.children(":eq(0)").height(),h=t.speed-Math.abs(parseInt(e.css("marginTop")))*(t.speed/e.children(":eq(0)").height());break;case"bottom":var a=-(e.height()-e.parents("div:eq(0)").height())+e.children(":last").height(),h=t.speed-(e.children(":last").height()-(Math.abs(parseInt(e.css("marginTop")))-Math.abs(a)))*(t.speed/e.children(":last").height())}e.animate({marginLeft:(s||"0")+"px",marginTop:(a||"0")+"px"},h,"linear",function(){switch(t.direction){case"left":e.append($(this).children(":eq(0)")),e.css("marginLeft","0px");break;case"right":e.prepend($(this).children(":last")),e.css("marginLeft",-(e.width()-e.parents("div:eq(0)").width())+"px");break;case"top":e.append($(this).children(":eq(0)")),e.css("marginTop","0px");break;case"bottom":e.prepend($(this).children(":last")),e.css("marginTop",-(e.height()-e.parents("div:eq(0)").height())+"px")}i(e,t)})}var t=$(this),s=0,h=$.extend({speed:"20000",loading:"Loading images...",direction:"left"},e||{});t.children().hide(),t.append("<div style='clear:both; padding: 0px; margin: 0px;'><div id='loading'>"+h.loading+"</div></div>"),$("img",t).each(function(){var e=new Image,i=$(this).attr("src");$(e).load(function(){s++}).attr("src",i)});var a=window.setInterval(function(){if(s==$("img",t).length){window.clearInterval(a),$("#loading").remove(),t.children().show();var e=0;switch($.each(t.children(":not(div)"),function(){switch(h.direction){case"left":case"right":$(this).children().length&&$(this).width($(this).children(":eq(0)").width()),e+=$(this).width();break;case"top":case"bottom":$(this).css("display","block"),$(this).children().length&&$(this).height($(this).children(":eq(0)").height()),e+=$(this).height()}$(this).css({margin:"0px",padding:"0px",clear:"both"}),$(this).bind("mouseover",function(){$("div:eq(0)",t).stop()}).bind("mouseout",function(){i($("div:eq(0)",t),h)}),$("div:eq(0)",t).append($(this))}),h.direction){case"left":$("div:eq(0)",t).css("width",e+"px");break;case"right":$("div:eq(0)",t).css("width",e+"px"),$("div:eq(0)",t).css({marginLeft:-(e-t.width())+"px"});break;case"top":$("div:eq(0)",t).css("height",e+"px");break;case"bottom":$("div:eq(0)",t).css("height",e+"px"),$("div:eq(0)",t).css({marginTop:-(e-t.height())+"px"})}i($("div:eq(0)",t),h)}},100)})}}(jQuery);